問題

personnelテーブルから、社員一人当たりの子供の数を取得せよ


回答
/*社員一人当たりのお供の数を取得する*/
SELECT
	employee,
	COUNT(child) AS child_cnt
FROM
	(
		SELECT
			employee,
			child_1 AS child
		FROM
			personnel
	UNION ALL
		SELECT
			employee,
			child_2 AS child
		FROM
			personnel
	UNION ALL
		SELECT
			employee,
			child_3 AS child
		FROM
			personnel
	) AS pl
GROUP BY
	employee
ORDER BY
	COUNT(child) DESC
;

出力結果：
+----------+-----------+
| employee | child_cnt |
+----------+-----------+
| 赤井     |         3 |
| 工藤     |         2 |
| 鈴木     |         1 |
| 吉田     |         0 |
+----------+-----------+